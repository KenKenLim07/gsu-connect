{"version":3,"file":"Home-BJuzlW8b.js","sources":["../../src/components/news/NewsPreviewCard.tsx","../../src/components/news/MainCampusNews.tsx","../../src/pages/Home.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport type { NewsItem } from \"@/types/news\";\n\ninterface NewsPreviewCardProps {\n  news: NewsItem;\n  variant: \"main\" | \"other\";\n  isImageLoaded?: boolean;\n  showTitle?: boolean;\n}\n\nexport default function NewsPreviewCard({ news, variant, isImageLoaded = false, showTitle = true }: NewsPreviewCardProps) {\n  const [imageLoading, setImageLoading] = useState(!isImageLoaded);\n\n  const handleImageLoad = () => {\n    setImageLoading(false);\n  };\n\n  const getImageHeight = () => {\n    switch (variant) {\n      case \"main\":\n        return \"h-[180px] sm:h-[220px] md:h-[280px] lg:h-[320px]\";\n      case \"other\":\n        return \"h-[160px] sm:h-[200px] md:h-[240px] lg:h-[280px]\";\n      default:\n        return \"h-[180px]\";\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n  });\n  };\n\n  const handleClick = (e: React.MouseEvent) => {\n    if (news.source_url) {\n      e.preventDefault();\n      window.open(news.source_url, '_blank', 'noopener,noreferrer');\n    }\n  };\n\n  return (\n    <Link \n      to={news.source_url ? '#' : `/news/${news.id}`}\n      onClick={handleClick}\n      className=\"block relative\"\n    >\n      <div className=\"relative\">\n        {imageLoading && (\n          <div className={`${getImageHeight()} w-full bg-gray-100 animate-pulse`} />\n        )}\n        <img\n          src={news.image_url}\n          alt={news.title}\n          className={`${getImageHeight()} w-full object-contain ${\n            imageLoading ? 'hidden' : 'block'\n          }`}\n          onLoad={handleImageLoad}\n        />\n      </div>\n      {showTitle ? (\n        <div className=\"absolute bottom-0 left-0 right-0 bg-white/90 backdrop-blur-sm mt-1 space-y-0.5 p-1 md:p-[15px] text-center\">\n          <h3 className=\"text-[9px] sm:text-[10px] md:text-[10px] font-medium text-gray-900 line-clamp-2 px-1 w-full overflow-hidden\">\n            {news.title}\n          </h3>\n          <div className=\"flex items-center justify-center gap-1 text-[6px] sm:text-[7px] md:text-[8px] text-gray-500 px-1 w-full\">\n            <span className=\"truncate max-w-[60px] md:max-w-[70px]\">{news.source_url ? new URL(news.source_url).hostname.replace('www.', '') : 'GSU'}</span>\n            <span>â€¢</span>\n            <span>{formatDate(news.published_at)}</span>\n        </div>\n        </div>\n      ) : (\n        <div className=\"h-[70px] sm:h-[80px]\" />\n      )}\n    </Link>\n  );\n} \n","import { useState, useCallback, useRef, useEffect, useMemo } from \"react\";\nimport type { NewsItem } from \"@/types/news\";\nimport NewsPreviewCard from \"./NewsPreviewCard\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\nimport { useQuery } from \"@tanstack/react-query\";\n\ninterface MainCampusNewsProps {\n  news: NewsItem[];\n  loading: boolean;\n  error: string | null;\n}\n\ninterface ImageDimensions {\n  [key: string]: {\n    width: number;\n    height: number;\n    isValid: boolean;\n    isLoading: boolean;\n  };\n}\n\n// Function to preload images and get dimensions\nconst preloadImages = async (news: NewsItem[]): Promise<ImageDimensions> => {\n  const dimensions: ImageDimensions = {};\n  \n  await Promise.all(\n    news.map(async (item) => {\n      if (!item.image_url) return;\n      \n      try {\n        const img = new Image();\n        await new Promise((resolve, reject) => {\n          img.onload = resolve;\n          img.onerror = reject;\n          img.src = item.image_url!;\n        });\n        \n        const aspectRatio = img.width / img.height;\n        dimensions[item.id] = {\n          width: img.width,\n          height: img.height,\n          isValid: aspectRatio >= 1 && aspectRatio <= 16/9,\n          isLoading: false\n        };\n      } catch (error) {\n        console.warn(`Failed to load image for news item ${item.id}:`, error);\n        dimensions[item.id] = {\n          width: 0,\n          height: 0,\n          isValid: false,\n          isLoading: false\n        };\n      }\n    })\n  );\n  \n  return dimensions;\n};\n\nexport default function MainCampusNews({ news, loading: parentLoading, error }: MainCampusNewsProps) {\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [direction, setDirection] = useState(0);\n  const [touchStart, setTouchStart] = useState<number | null>(null);\n  const [touchEnd, setTouchEnd] = useState<number | null>(null);\n  const timerRef = useRef<NodeJS.Timeout | undefined>(undefined);\n\n  // Use React Query to cache image dimensions\n  const { data: imageDimensions = {} as ImageDimensions } = useQuery<ImageDimensions>({\n    queryKey: ['mainCampusImageDimensions', news.map(item => item.id).join(',')],\n    queryFn: () => preloadImages(news),\n    enabled: news.length > 0,\n    staleTime: 5 * 60 * 1000, // 5 minutes\n    gcTime: 30 * 60 * 1000, // 30 minutes\n  });\n\n  const minSwipeDistance = 50;\n\n  const filteredNews = useMemo(() => {\n    return news\n      .filter(item => {\n        const dimensions = imageDimensions[item.id];\n        return item.image_url && dimensions?.isValid && !dimensions.isLoading;\n      })\n      .sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime())\n      .slice(0, 5); // Limit to 5 items\n  }, [news, imageDimensions]);\n\n  const resetTimer = useCallback(() => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n    timerRef.current = setInterval(() => {\n      setDirection(1);\n      setCurrentIndex((prevIndex) => (prevIndex + 1) % filteredNews.length);\n    }, 3300);\n  }, [filteredNews.length]);\n\n  useEffect(() => {\n    if (filteredNews.length > 0) {\n      resetTimer();\n    }\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, [filteredNews.length, resetTimer]);\n\n  const onTouchStart = (e: React.TouchEvent) => {\n    setTouchEnd(null);\n    setTouchStart(e.targetTouches[0].clientX);\n    resetTimer();\n  };\n\n  const onTouchMove = (e: React.TouchEvent) => {\n    const currentTouch = e.targetTouches[0].clientX;\n    const currentY = e.targetTouches[0].clientY;\n    \n    if (touchStart && Math.abs(currentTouch - touchStart) > Math.abs(currentY - (touchStart ? e.targetTouches[0].clientY : 0))) {\n      e.preventDefault();\n    }\n    \n    setTouchEnd(currentTouch);\n    \n    if (touchStart) {\n      const distance = touchStart - currentTouch;\n      if (Math.abs(distance) > minSwipeDistance) {\n        setDirection(distance > 0 ? 1 : -1);\n      }\n    }\n  };\n\n  const onTouchEnd = () => {\n    if (!touchStart || !touchEnd) return;\n    const distance = touchStart - touchEnd;\n    const isLeftSwipe = distance > minSwipeDistance;\n    const isRightSwipe = distance < -minSwipeDistance;\n\n    if (Math.abs(distance) > minSwipeDistance) {\n      if (isLeftSwipe) {\n        setCurrentIndex((prevIndex) => (prevIndex + 1) % filteredNews.length);\n      }\n      if (isRightSwipe) {\n        setCurrentIndex((prevIndex) => (prevIndex - 1 + filteredNews.length) % filteredNews.length);\n      }\n    }\n    resetTimer();\n  };\n\n  const handlePrevious = () => {\n    setDirection(-1);\n    setCurrentIndex((prevIndex) => (prevIndex - 1 + filteredNews.length) % filteredNews.length);\n    resetTimer();\n  };\n\n  const handleNext = () => {\n    setDirection(1);\n    setCurrentIndex((prevIndex) => (prevIndex + 1) % filteredNews.length);\n    resetTimer();\n  };\n\n  // Only show loading state on initial load\n  if (parentLoading && (!news || news.length === 0)) {\n    return (\n      <div className=\"relative min-h-[425px]\">\n        <div className=\"relative flex items-center justify-center gap-0 px-4 md:px-12 overflow-visible\">\n          {/* Previous Skeleton */}\n          <div className=\"w-1/4 md:w-1/5 -mr-4 md:-mr-6\">\n            <div className=\"w-full h-[180px] sm:h-[220px] md:h-[280px] lg:h-[320px] bg-gray-100 animate-pulse rounded-lg\" />\n          </div>\n\n          {/* Current Skeleton */}\n          <div className=\"w-2/3 md:w-3/4\">\n            <div className=\"w-full h-[180px] sm:h-[220px] md:h-[280px] lg:h-[320px] bg-gray-100 animate-pulse rounded-lg\" />\n            <div className=\"mt-2 space-y-1.5 p-1.5\">\n              <div className=\"h-3 bg-gray-100 animate-pulse rounded w-3/4 mx-auto\" />\n              <div className=\"flex items-center justify-center gap-1.5\">\n                <div className=\"h-2.5 bg-gray-100 animate-pulse rounded w-16\" />\n                <div className=\"h-2.5 bg-gray-100 animate-pulse rounded w-2\" />\n                <div className=\"h-2.5 bg-gray-100 animate-pulse rounded w-20\" />\n              </div>\n            </div>\n          </div>\n\n          {/* Next Skeleton */}\n          <div className=\"w-1/4 md:w-1/5 -ml-4 md:-ml-6\">\n            <div className=\"w-full h-[180px] sm:h-[220px] md:h-[280px] lg:h-[320px] bg-gray-100 animate-pulse rounded-lg\" />\n          </div>\n        </div>\n\n        {/* Skeleton Dots */}\n        <div className=\"mt-4 text-center\">\n          {[1, 2, 3, 4, 5].map((_, index) => (\n            <div\n              key={index}\n              className=\"w-1.5 h-1.5 rounded-full bg-gray-200 inline-block mx-1\"\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-6\">\n        <p className=\"text-red-600 mb-4\">{error}</p>\n        <button\n          onClick={() => window.location.reload()}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n        >\n          Try Again\n        </button>\n      </div>\n    );\n  }\n\n  if (filteredNews.length === 0) {\n    return (\n      <div className=\"text-center py-6\">\n        <p className=\"text-gray-500\">No news available for Main Campus</p>\n      </div>\n    );\n  }\n\n  const getAdjacentIndex = (offset: number) => {\n    return (currentIndex + offset + filteredNews.length) % filteredNews.length;\n  };\n\n  return (\n    <div className=\"w-full\">\n      <div \n        className=\"relative group\"\n        onTouchStart={onTouchStart}\n        onTouchMove={onTouchMove}\n        onTouchEnd={onTouchEnd}\n        style={{ touchAction: 'pan-y pinch-zoom' }}\n      >\n        <button\n          onClick={handlePrevious}\n          className=\"absolute left-2 top-1/2 -translate-y-1/2 z-10 p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-lg hidden md:block opacity-0 md:group-hover:opacity-100 transition-opacity duration-200 hover:bg-white\"\n          aria-label=\"Previous slide\"\n        >\n          <ChevronLeft className=\"w-6 h-6 text-gray-600\" />\n        </button>\n\n        <button\n          onClick={handleNext}\n          className=\"absolute right-2 top-1/2 -translate-y-1/2 z-10 p-2 rounded-full bg-white/80 backdrop-blur-sm shadow-lg hidden md:block opacity-0 md:group-hover:opacity-100 transition-opacity duration-200 hover:bg-white\"\n          aria-label=\"Next slide\"\n        >\n          <ChevronRight className=\"w-6 h-6 text-gray-600\" />\n        </button>\n\n        <div className=\"relative flex items-center justify-center gap-0 px-4 md:px-12 overflow-visible\">\n          <AnimatePresence mode=\"popLayout\" initial={false}>\n            {/* Previous Image */}\n            <motion.div\n              key={`prev-${currentIndex}`}\n              initial={{ \n                x: 100,\n                opacity: 0,\n                scale: 0.8,\n                zIndex: 1\n              }}\n              animate={{ \n                x: 0,\n                opacity: 0.7,\n                scale: 1.5,\n                zIndex: 1,\n                y: 40,\n                transition: {\n                  type: \"spring\",\n                  stiffness: 200,\n                  damping: 25,\n                  mass: 0.8,\n                  velocity: 0.5\n                }\n              }}\n              exit={{ \n                x: -100,\n                opacity: 0,\n                scale: 0.8,\n                transition: {\n                  type: \"spring\",\n                  stiffness: 200,\n                  damping: 25,\n                  mass: 0.8,\n                  velocity: 0.5\n                }\n              }}\n              className=\"w-1/4 md:w-1/5 -mr-4 md:-mr-6\"\n            >\n              <NewsPreviewCard \n                news={filteredNews[getAdjacentIndex(-1)]} \n                variant=\"main\"\n                showTitle={false}\n              />\n            </motion.div>\n\n            {/* Current Image */}\n            <motion.div\n              key={`current-${currentIndex}`}\n              initial={{ \n                x: direction * 100,\n                opacity: 0,\n                scale: 0.9,\n                zIndex: 2\n              }}\n              animate={{ \n                x: 0,\n                opacity: 1,\n                scale: 1.4,\n                zIndex: 2,\n                transition: {\n                  type: \"spring\",\n                  stiffness: 200,\n                  damping: 25,\n                  mass: 0.8,\n                  velocity: 0.5\n                }\n              }}\n              exit={{ \n                x: -direction * 100,\n                opacity: 0,\n                scale: 0.9,\n                transition: {\n                  type: \"spring\",\n                  stiffness: 200,\n                  damping: 25,\n                  mass: 0.8,\n                  velocity: 0.5\n                }\n              }}\n              className=\"w-2/3 md:w-3/4\"\n            >\n              <NewsPreviewCard \n                news={filteredNews[currentIndex]} \n                variant=\"main\"\n                showTitle={true}\n              />\n            </motion.div>\n\n            {/* Next Image */}\n            <motion.div\n              key={`next-${currentIndex}`}\n              initial={{ \n                x: -100,\n                opacity: 0,\n                scale: 0.8,\n                zIndex: 1\n              }}\n              animate={{ \n                x: 0,\n                opacity: 0.7,\n                scale: 1.5,\n                zIndex: 1,\n                y: 40,\n                transition: {\n                  type: \"spring\",\n                  stiffness: 200,\n                  damping: 25,\n                  mass: 0.8,\n                  velocity: 0.5\n                }\n              }}\n              exit={{ \n                x: 100,\n                opacity: 0,\n                scale: 0.8,\n                transition: {\n                  type: \"spring\",\n                  stiffness: 200,\n                  damping: 25,\n                  mass: 0.8,\n                  velocity: 0.5\n                }\n              }}\n              className=\"w-1/4 md:w-1/5 -ml-4 md:-ml-6\"\n            >\n              <NewsPreviewCard \n                news={filteredNews[getAdjacentIndex(1)]} \n                variant=\"main\"\n                showTitle={false}\n              />\n            </motion.div>\n          </AnimatePresence>\n        </div>\n\n        {/* Dot indicators */}\n        {filteredNews.length > 0 && (\n          <div className=\"mt-4 text-center\">\n            {filteredNews.map((_, i) => (\n              <motion.button\n                key={i}\n                onClick={() => {\n                  setDirection(i > currentIndex ? 1 : -1);\n                  setCurrentIndex(i);\n                  resetTimer();\n                }}\n                className=\"relative inline-block mx-1\"\n                whileHover={{ scale: 1.2 }}\n                whileTap={{ scale: 0.9 }}\n              >\n                <motion.div\n                  className={`w-1.5 h-1.5 rounded-full ${\n                    i === currentIndex ? \"bg-blue-600\" : \"bg-gray-300\"\n                  }`}\n                  animate={{\n                    scale: i === currentIndex ? [1, 1.8, 1.4] : 1,\n                    opacity: i === currentIndex ? 1 : 0.5,\n                  }}\n                  transition={{\n                    duration: 0.4,\n                    ease: \"easeInOut\",\n                    times: [0, 0.5, 1],\n                  }}\n                />\n                {i === currentIndex && (\n                  <motion.div\n                    className=\"absolute inset-0 rounded-full bg-blue-600/20\"\n                    layoutId=\"activeDot\"\n                    transition={{\n                      type: \"spring\",\n                      stiffness: 500,\n                      damping: 30,\n                    }}\n                  />\n                )}\n              </motion.button>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n} ","import { useQuery } from \"@tanstack/react-query\";\nimport { getNews } from \"@/services/newsService\";\nimport type { NewsItem } from \"@/types/news\";\nimport MainCampusNews from \"@/components/news/MainCampusNews\";\nimport { motion } from \"framer-motion\";\nimport { Link } from \"react-router-dom\";\nimport { ArrowRight } from \"lucide-react\";\nimport { Card, CardContent } from \"@/components/ui/card\";\n\nexport default function Home() {\n  const { data: news = [], isLoading, error } = useQuery<NewsItem[]>({\n    queryKey: ['news'],\n    queryFn: async () => {\n      const { data, error } = await getNews();\n      if (error) throw new Error('Failed to load news');\n      return data;\n    },\n    staleTime: 5 * 60 * 1000, // 5 minutes\n    gcTime: 30 * 60 * 1000, // 30 minutes\n    refetchOnWindowFocus: false,\n    retry: 1,\n  });\n\n  const mainCampusNews = news.filter(item => item.campus?.name === \"Main Campus\");\n  const errorMessage = error instanceof Error ? error.message : null;\n\n  return (\n    <div className=\"flex flex-col min-h-screen bg-white\">\n      {/* Hero Section */}\n      <section className=\"relative py-16 px-4\">\n        <div className=\"max-w-5xl mx-auto\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6 }}\n            className=\"text-center\"\n          >\n            <h1 className=\"text-4xl md:text-5xl font-bold tracking-tight text-gray-900 mb-4\">\n              What's News\n            </h1>\n            <motion.p\n              className=\"text-gray-600 text-base md:text-lg max-w-2xl mx-auto leading-relaxed\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ duration: 0.5, delay: 0.2 }}\n            >\n              Stay informed with the latest updates, events, and announcements from across our campuses\n            </motion.p>\n          </motion.div>\n        </div>\n      </section>\n\n      {/* Content Section */}\n      <section className=\"flex-1 overflow-y-auto px-4 py-8\">\n        <div className=\"max-w-6xl mx-auto\">\n          {/* Main Campus Section */}\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <h2 className=\"text-base font-medium text-gray-700\">Main Campus News</h2>\n              <Link to=\"/news?campus=Main%20Campus\">\n                <Card className=\"hover:bg-gray-50 transition-colors border-gray-300\">\n                  <CardContent className=\"px-2 py-1\">\n                    <div className=\"flex items-center gap-1 text-xs text-gray-500 hover:text-gray-900\">\n                      Show all\n                      <ArrowRight className=\"w-3 h-3\" />\n                    </div>\n                  </CardContent>\n                </Card>\n              </Link>\n            </div>\n            <MainCampusNews news={mainCampusNews} loading={isLoading} error={errorMessage} />\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n} \n"],"names":["NewsPreviewCard","news","variant","isImageLoaded","showTitle","imageLoading","setImageLoading","useState","handleImageLoad","getImageHeight","formatDate","dateString","handleClick","e","jsxs","Link","jsx","preloadImages","dimensions","item","img","resolve","reject","aspectRatio","error","MainCampusNews","parentLoading","currentIndex","setCurrentIndex","direction","setDirection","touchStart","setTouchStart","touchEnd","setTouchEnd","timerRef","useRef","imageDimensions","useQuery","minSwipeDistance","filteredNews","useMemo","b","resetTimer","useCallback","prevIndex","useEffect","onTouchStart","onTouchMove","currentTouch","currentY","distance","onTouchEnd","isLeftSwipe","isRightSwipe","handlePrevious","handleNext","_","index","getAdjacentIndex","offset","ChevronLeft","ChevronRight","AnimatePresence","motion","Home","isLoading","data","getNews","mainCampusNews","_a","errorMessage","Card","CardContent","ArrowRight"],"mappings":"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"}