{"version":3,"file":"Home-Dlo93OYM.js","sources":["../../src/components/news/CstNewsCard.tsx","../../src/components/news/CstNews.tsx","../../src/pages/Home.tsx"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\nimport type { NewsItem } from \"../../types/news\";\n\ninterface CstNewsCardProps {\n  news: NewsItem;\n  isImageLoaded?: boolean;\n  index: number;\n  onImageLoaded: (index: number) => void;\n  canLoad: boolean;\n}\n\nexport default function CstNewsCard({ news, isImageLoaded = false, index, onImageLoaded, canLoad }: CstNewsCardProps) {\n  const [imageLoading, setImageLoading] = useState(!isImageLoaded);\n  const [isVisible, setIsVisible] = useState(false);\n  const [loadAttempted, setLoadAttempted] = useState(false);\n  const [retryCount, setRetryCount] = useState(0);\n  const [isMobile, setIsMobile] = useState(false);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const observerRef = useRef<IntersectionObserver | null>(null);\n  const imageRef = useRef<HTMLImageElement>(null);\n  const retryTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Detect mobile device\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent));\n    };\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  // Start loading when canLoad becomes true\n  useEffect(() => {\n    if (canLoad && !isVisible) {\n      setIsVisible(true);\n      setLoadAttempted(true);\n    }\n  }, [canLoad, isVisible]);\n\n  // Setup intersection observer with mobile-specific settings\n  useEffect(() => {\n    observerRef.current = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting && canLoad) {\n            setIsVisible(true);\n            setLoadAttempted(true);\n          }\n        });\n      },\n      {\n        root: null,\n        rootMargin: isMobile ? '300px 0px' : '1500px 0px',\n        threshold: isMobile ? 0.1 : 0\n      }\n    );\n\n    if (containerRef.current) {\n      observerRef.current.observe(containerRef.current);\n    }\n\n    return () => {\n      if (observerRef.current) {\n        observerRef.current.disconnect();\n      }\n    };\n  }, [canLoad, isMobile]);\n\n  // Force load after a delay if not loaded\n  useEffect(() => {\n    if (canLoad && !loadAttempted) {\n      const timer = setTimeout(() => {\n        if (!loadAttempted) {\n          setIsVisible(true);\n          setLoadAttempted(true);\n        }\n      }, isMobile ? 100 : 500);\n\n      return () => clearTimeout(timer);\n    }\n  }, [canLoad, loadAttempted, isMobile]);\n\n  // Cleanup retry timeout on unmount\n  useEffect(() => {\n    return () => {\n      if (retryTimeoutRef.current) {\n        clearTimeout(retryTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  const handleImageError = () => {\n    if (retryCount < 3) { // Reduced retry attempts\n      setRetryCount(prev => prev + 1);\n      setImageLoading(true);\n      \n      // Clear any existing retry timeout\n      if (retryTimeoutRef.current) {\n        clearTimeout(retryTimeoutRef.current);\n      }\n\n      // Force reload with exponential backoff\n      retryTimeoutRef.current = setTimeout(() => {\n        if (imageRef.current && news.image_url) {\n          const timestamp = Date.now();\n          const separator = news.image_url.includes('?') ? '&' : '?';\n          imageRef.current.src = `${news.image_url}${separator}t=${timestamp}`;\n        }\n      }, Math.min(1000 * Math.pow(2, retryCount), 5000)); // Exponential backoff with max 5s\n    } else {\n      // After max retries, show a fallback or error state\n      setImageLoading(false);\n      onImageLoaded(index);\n    }\n  };\n\n  const handleImageLoad = () => {\n    setImageLoading(false);\n    setLoadAttempted(true);\n    onImageLoaded(index);\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n    });\n  };\n\n  const handleClick = () => {\n    if (news.source_url) {\n      window.open(news.source_url, '_blank', 'noopener,noreferrer');\n    }\n  };\n\n  return (\n    <div \n      onClick={handleClick}\n      className=\"block relative h-full cursor-pointer hover:opacity-90 transition-opacity\"\n      style={{ touchAction: 'pan-y pinch-zoom' }}\n    >\n      <div ref={containerRef} className=\"relative h-full overflow-hidden rounded-lg\">\n        {imageLoading && (\n          <div className=\"h-full w-full bg-gray-100 animate-pulse\" />\n        )}\n        {isVisible && (\n          <img\n            ref={imageRef}\n            src={news.image_url}\n            alt={news.title}\n            className={`h-[239%] w-full object-cover object-top ${\n              imageLoading ? 'hidden' : 'block'\n            }`}\n            onLoad={handleImageLoad}\n            onError={handleImageError}\n            loading={isMobile ? \"eager\" : \"lazy\"}\n            decoding={isMobile ? \"async\" : \"auto\"}\n          />\n        )}\n        <div className=\"absolute bottom-0 left-0 right-0 bg-white/90 backdrop-blur-sm mt-1 space-y-1 p-1 text-center\">\n          <h3 className=\"text-xs font-medium text-gray-900 line-clamp-2\">\n            {news.title}\n          </h3>\n          <div className=\"flex items-center justify-center gap-1.5 text-[10px] text-gray-500\">\n            <span>{news.source_url ? new URL(news.source_url).hostname.replace('www.', '') : 'GSU'}</span>\n            <span>â€¢</span>\n            <span>{formatDate(news.published_at)}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n} ","import { useState } from \"react\";\nimport type { NewsItem } from \"../../types/news\";\nimport CstNewsCard from \"./CstNewsCard\";\nimport { useQuery } from \"@tanstack/react-query\";\n\ninterface CstNewsProps {\n  news: NewsItem[];\n  loading: boolean;\n  error: string | null;\n}\n\n// Function to preload images\nconst preloadImages = async (news: NewsItem[]): Promise<Set<string>> => {\n  const preloadedUrls = new Set<string>();\n  \n  await Promise.all(\n    news\n      .filter((item: NewsItem) => item.image_url)\n      .map(async (item: NewsItem) => {\n        const url = item.image_url as string;\n        try {\n          const img = new Image();\n          await new Promise((resolve, reject) => {\n            img.onload = resolve;\n            img.onerror = reject;\n            img.src = url;\n          });\n          preloadedUrls.add(url);\n        } catch (error) {\n          console.warn(`Failed to preload image: ${url}`, error);\n        }\n      })\n  );\n  \n  return preloadedUrls;\n};\n\nexport default function CstNews({ news, loading, error }: CstNewsProps) {\n  const [loadedIndices, setLoadedIndices] = useState<Set<number>>(new Set());\n  const [nextToLoad, setNextToLoad] = useState(0);\n\n  // Use React Query to cache preloaded images\n  const { data: preloadedImages = new Set<string>() } = useQuery<Set<string>>({\n    queryKey: ['cstPreloadedImages', news.map(item => item.id).join(',')],\n    queryFn: () => preloadImages(news),\n    enabled: news.length > 0,\n    staleTime: 5 * 60 * 1000, // 5 minutes\n    gcTime: 30 * 60 * 1000, // 30 minutes\n  });\n\n  const handleImageLoaded = (index: number) => {\n    setLoadedIndices(prev => new Set([...prev, index]));\n    setNextToLoad(prev => prev + 1);\n  };\n\n  const checkImageLoaded = (news: NewsItem) => {\n    return news.image_url ? preloadedImages.has(news.image_url) : false;\n  };\n\n  const canLoadImage = (index: number) => {\n    return Math.abs(index - nextToLoad) <= 3 || loadedIndices.has(index - 1) || index < 4;\n  };\n\n  // Only show loading state on initial load\n  if (loading && (!news || news.length === 0)) {\n    return (\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {[...Array(6)].map((_, index) => (\n          <div key={index} className=\"aspect-[4/3]\">\n            <div className=\"w-full h-full bg-white rounded-lg shadow-sm overflow-hidden\">\n              {/* Image skeleton */}\n              <div className=\"w-full h-[60%] bg-gray-100 animate-pulse\" />\n              \n              {/* Content skeleton */}\n              <div className=\"p-4 space-y-3\">\n                {/* Title skeleton */}\n                <div className=\"h-4 bg-gray-100 animate-pulse rounded w-3/4\" />\n                \n                {/* Date skeleton */}\n                <div className=\"flex items-center space-x-2\">\n                  <div className=\"h-3 bg-gray-100 animate-pulse rounded w-24\" />\n                  <div className=\"h-3 bg-gray-100 animate-pulse rounded w-16\" />\n                </div>\n                \n                {/* Description skeleton */}\n                <div className=\"space-y-2\">\n                  <div className=\"h-3 bg-gray-100 animate-pulse rounded w-full\" />\n                  <div className=\"h-3 bg-gray-100 animate-pulse rounded w-5/6\" />\n                  <div className=\"h-3 bg-gray-100 animate-pulse rounded w-4/6\" />\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-8\">\n        <p className=\"text-red-500\">{error}</p>\n      </div>\n    );\n  }\n\n  if (!news || news.length === 0) {\n    return (\n      <div className=\"text-center py-8\">\n        <p className=\"text-gray-500\">No news available for CST</p>\n      </div>\n    );\n  }\n\n  // Sort news by published_at date and take only the 10 most recent\n  const recentNews = [...news]\n    .sort((a, b) => new Date(b.published_at).getTime() - new Date(a.published_at).getTime())\n    .slice(0, 10);\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n      {recentNews.map((item: NewsItem, index: number) => (\n        <div key={item.id} className=\"aspect-[4/3]\">\n          <CstNewsCard \n            news={item}\n            isImageLoaded={checkImageLoaded(item)}\n            index={index}\n            onImageLoaded={handleImageLoaded}\n            canLoad={canLoadImage(index)}\n          />\n        </div>\n      ))}\n    </div>\n  );\n} ","import { useQuery } from \"@tanstack/react-query\";\nimport { getNews } from \"@/services/newsService\";\nimport type { NewsItem } from \"@/types/news\";\n// import MainCampusNews from \"@/components/news/MainCampusNews\";\nimport CstNews from \"@/components/news/CstNews\";\nimport { motion } from \"framer-motion\";\nimport { Link } from \"react-router-dom\";\nimport { ArrowRight } from \"lucide-react\";\nimport { Card, CardContent } from \"@/components/ui/card\";\n\nexport default function Home() {\n  const { data: news = [], isLoading, error } = useQuery<NewsItem[]>({\n    queryKey: ['news'],\n    queryFn: async () => {\n      const { data, error } = await getNews();\n      if (error) throw new Error('Failed to load news');\n      return data;\n    },\n    staleTime: 5 * 60 * 1000, // 5 minutes\n    gcTime: 30 * 60 * 1000, // 30 minutes\n    refetchOnWindowFocus: false,\n    retry: 1,\n  });\n\n  // const mainCampusNews = news.filter(item => item.campus?.name === \"Main Campus\");\n  const cstNews = news.filter(item => item.campus?.name === \"CST\");\n  const errorMessage = error instanceof Error ? error.message : null;\n\n  return (\n    <div className=\"flex flex-col min-h-screen bg-white\">\n      {/* Hero Section */}\n      <section className=\"relative py-16 px-4\">\n        <div className=\"max-w-5xl mx-auto\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6 }}\n            className=\"text-center\"\n          >\n            <h1 className=\"text-4xl md:text-5xl font-bold tracking-tight text-gray-900 mb-4\">\n              What's News\n            </h1>\n            <motion.p\n              className=\"text-gray-600 text-base md:text-lg max-w-2xl mx-auto leading-relaxed\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ duration: 0.5, delay: 0.2 }}\n            >\n              Stay informed with the latest updates, events, and announcements from across our campuses\n            </motion.p>\n          </motion.div>\n        </div>\n      </section>\n\n      {/* Content Section */}\n      <section className=\"flex-1 overflow-y-auto px-4 py-8\">\n        <div className=\"max-w-6xl mx-auto space-y-12\">\n          {/* Main Campus Section - COMMENTED OUT FOR TESTING */}\n          {/* <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <h2 className=\"text-base font-medium text-gray-700\">Main Campus News</h2>\n              <Link to=\"/news?campus=Main%20Campus\">\n                <Card className=\"hover:bg-gray-50 transition-colors border-gray-300\">\n                  <CardContent className=\"px-2 py-1\">\n                    <div className=\"flex items-center gap-1 text-xs text-gray-500 hover:text-gray-900\">\n                      Show all\n                      <ArrowRight className=\"w-3 h-3\" />\n                    </div>\n                  </CardContent>\n                </Card>\n              </Link>\n            </div>\n            <MainCampusNews news={mainCampusNews} loading={isLoading} error={errorMessage} />\n          </div>\n\n          <div className=\"h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent\" /> */}\n\n          {/* CST Section */}\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <h2 className=\"text-base font-medium text-gray-700\">College of Science and Technology</h2>\n              <Link to=\"/news?campus=CST\">\n                <Card className=\"hover:bg-gray-50 transition-colors border-gray-300\">\n                  <CardContent className=\"px-2 py-1\">\n                    <div className=\"flex items-center gap-1 text-xs text-gray-500 hover:text-gray-900\">\n                      Show all\n                      <ArrowRight className=\"w-3 h-3\" />\n                    </div>\n                  </CardContent>\n                </Card>\n              </Link>\n            </div>\n            <CstNews news={cstNews} loading={isLoading} error={errorMessage} />\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n} \n"],"names":["CstNewsCard","news","isImageLoaded","index","onImageLoaded","canLoad","imageLoading","setImageLoading","useState","isVisible","setIsVisible","loadAttempted","setLoadAttempted","retryCount","setRetryCount","isMobile","setIsMobile","containerRef","useRef","observerRef","imageRef","retryTimeoutRef","useEffect","checkMobile","entries","entry","timer","handleImageError","prev","timestamp","separator","handleImageLoad","formatDate","dateString","handleClick","jsx","jsxs","preloadImages","preloadedUrls","item","url","img","resolve","reject","error","CstNews","loading","loadedIndices","setLoadedIndices","nextToLoad","setNextToLoad","preloadedImages","useQuery","handleImageLoaded","checkImageLoaded","canLoadImage","_","recentNews","a","b","Home","isLoading","data","getNews","cstNews","_a","errorMessage","motion","Link","Card","CardContent","ArrowRight"],"mappings":"kWAWwB,SAAAA,EAAY,CAAE,KAAAC,EAAM,cAAAC,EAAgB,GAAO,MAAAC,EAAO,cAAAC,EAAe,QAAAC,GAA6B,CACpH,KAAM,CAACC,EAAcC,CAAe,EAAIC,EAAA,SAAS,CAACN,CAAa,EACzD,CAACO,EAAWC,CAAY,EAAIF,EAAAA,SAAS,EAAK,EAC1C,CAACG,EAAeC,CAAgB,EAAIJ,EAAAA,SAAS,EAAK,EAClD,CAACK,EAAYC,CAAa,EAAIN,EAAAA,SAAS,CAAC,EACxC,CAACO,EAAUC,CAAW,EAAIR,EAAAA,SAAS,EAAK,EACxCS,EAAeC,SAAuB,IAAI,EAC1CC,EAAcD,SAAoC,IAAI,EACtDE,EAAWF,SAAyB,IAAI,EACxCG,EAAkBH,SAA8B,IAAI,EAG1DI,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAc,IAAM,CACxBP,EAAY,4BAA4B,KAAK,UAAU,SAAS,CAAC,CACnE,EACY,OAAAO,EAAA,EACL,OAAA,iBAAiB,SAAUA,CAAW,EACtC,IAAM,OAAO,oBAAoB,SAAUA,CAAW,CAC/D,EAAG,EAAE,EAGLD,EAAAA,UAAU,IAAM,CACVjB,GAAW,CAACI,IACdC,EAAa,EAAI,EACjBE,EAAiB,EAAI,EACvB,EACC,CAACP,EAASI,CAAS,CAAC,EAGvBa,EAAAA,UAAU,KACRH,EAAY,QAAU,IAAI,qBACvBK,GAAY,CACHA,EAAA,QAASC,GAAU,CACrBA,EAAM,gBAAkBpB,IAC1BK,EAAa,EAAI,EACjBE,EAAiB,EAAI,EACvB,CACD,CACH,EACA,CACE,KAAM,KACN,WAAYG,EAAW,YAAc,aACrC,UAAWA,EAAW,GAAM,CAAA,CAEhC,EAEIE,EAAa,SACHE,EAAA,QAAQ,QAAQF,EAAa,OAAO,EAG3C,IAAM,CACPE,EAAY,SACdA,EAAY,QAAQ,WAAW,CAEnC,GACC,CAACd,EAASU,CAAQ,CAAC,EAGtBO,EAAAA,UAAU,IAAM,CACV,GAAAjB,GAAW,CAACM,EAAe,CACvB,MAAAe,EAAQ,WAAW,IAAM,CACxBf,IACHD,EAAa,EAAI,EACjBE,EAAiB,EAAI,EACvB,EACCG,EAAW,IAAM,GAAG,EAEhB,MAAA,IAAM,aAAaW,CAAK,CAAA,CAEhC,EAAA,CAACrB,EAASM,EAAeI,CAAQ,CAAC,EAGrCO,EAAAA,UAAU,IACD,IAAM,CACPD,EAAgB,SAClB,aAAaA,EAAgB,OAAO,CAExC,EACC,EAAE,EAEL,MAAMM,EAAmB,IAAM,CACzBd,EAAa,GACDC,EAAAc,GAAQA,EAAO,CAAC,EAC9BrB,EAAgB,EAAI,EAGhBc,EAAgB,SAClB,aAAaA,EAAgB,OAAO,EAItBA,EAAA,QAAU,WAAW,IAAM,CACrC,GAAAD,EAAS,SAAWnB,EAAK,UAAW,CAChC,MAAA4B,EAAY,KAAK,IAAI,EACrBC,EAAY7B,EAAK,UAAU,SAAS,GAAG,EAAI,IAAM,IAC9CmB,EAAA,QAAQ,IAAM,GAAGnB,EAAK,SAAS,GAAG6B,CAAS,KAAKD,CAAS,EAAA,CACpE,EACC,KAAK,IAAI,IAAO,KAAK,IAAI,EAAGhB,CAAU,EAAG,GAAI,CAAC,IAGjDN,EAAgB,EAAK,EACrBH,EAAcD,CAAK,EAEvB,EAEM4B,EAAkB,IAAM,CAC5BxB,EAAgB,EAAK,EACrBK,EAAiB,EAAI,EACrBR,EAAcD,CAAK,CACrB,EAEM6B,EAAcC,GACX,IAAI,KAAKA,CAAU,EAAE,mBAAmB,QAAS,CACtD,KAAM,UACN,MAAO,OACP,IAAK,SAAA,CACN,EAGGC,EAAc,IAAM,CACpBjC,EAAK,YACP,OAAO,KAAKA,EAAK,WAAY,SAAU,qBAAqB,CAEhE,EAGE,OAAAkC,EAAA,IAAC,MAAA,CACC,QAASD,EACT,UAAU,2EACV,MAAO,CAAE,YAAa,kBAAmB,EAEzC,SAACE,EAAAA,KAAA,MAAA,CAAI,IAAKnB,EAAc,UAAU,6CAC/B,SAAA,CACCX,GAAA6B,EAAAA,IAAC,MAAI,CAAA,UAAU,yCAA0C,CAAA,EAE1D1B,GACC0B,EAAA,IAAC,MAAA,CACC,IAAKf,EACL,IAAKnB,EAAK,UACV,IAAKA,EAAK,MACV,UAAW,2CACTK,EAAe,SAAW,OAC5B,GACA,OAAQyB,EACR,QAASJ,EACT,QAASZ,EAAW,QAAU,OAC9B,SAAUA,EAAW,QAAU,MAAA,CACjC,EAEFqB,EAAAA,KAAC,MAAI,CAAA,UAAU,+FACb,SAAA,CAAAD,EAAA,IAAC,KAAG,CAAA,UAAU,iDACX,SAAAlC,EAAK,MACR,EACAmC,EAAAA,KAAC,MAAI,CAAA,UAAU,qEACb,SAAA,CAAAD,EAAA,IAAC,OAAM,CAAA,SAAAlC,EAAK,WAAa,IAAI,IAAIA,EAAK,UAAU,EAAE,SAAS,QAAQ,OAAQ,EAAE,EAAI,MAAM,EACvFkC,EAAAA,IAAC,QAAK,SAAC,GAAA,CAAA,EACNA,EAAA,IAAA,OAAA,CAAM,SAAWH,EAAA/B,EAAK,YAAY,CAAE,CAAA,CAAA,CACvC,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAEJ,CClKA,MAAMoC,EAAgB,MAAOpC,GAA2C,CAChE,MAAAqC,MAAoB,IAE1B,aAAM,QAAQ,IACZrC,EACG,OAAQsC,GAAmBA,EAAK,SAAS,EACzC,IAAI,MAAOA,GAAmB,CAC7B,MAAMC,EAAMD,EAAK,UACb,GAAA,CACI,MAAAE,EAAM,IAAI,MAChB,MAAM,IAAI,QAAQ,CAACC,EAASC,IAAW,CACrCF,EAAI,OAASC,EACbD,EAAI,QAAUE,EACdF,EAAI,IAAMD,CAAA,CACX,EACDF,EAAc,IAAIE,CAAG,QACdI,EAAO,CACd,QAAQ,KAAK,4BAA4BJ,CAAG,GAAII,CAAK,CAAA,CAExD,CAAA,CACL,EAEON,CACT,EAEA,SAAwBO,EAAQ,CAAE,KAAA5C,EAAM,QAAA6C,EAAS,MAAAF,GAAuB,CACtE,KAAM,CAACG,EAAeC,CAAgB,EAAIxC,EAAAA,SAAsB,IAAI,GAAK,EACnE,CAACyC,EAAYC,CAAa,EAAI1C,EAAAA,SAAS,CAAC,EAGxC,CAAE,KAAM2C,MAAsB,GAAY,EAAMC,EAAsB,CAC1E,SAAU,CAAC,qBAAsBnD,EAAK,IAAYsC,GAAAA,EAAK,EAAE,EAAE,KAAK,GAAG,CAAC,EACpE,QAAS,IAAMF,EAAcpC,CAAI,EACjC,QAASA,EAAK,OAAS,EACvB,UAAW,EAAI,GAAK,IACpB,OAAQ,GAAK,GAAK,GAAA,CACnB,EAEKoD,EAAqBlD,GAAkB,CAC1B6C,EAAApB,OAAY,IAAI,CAAC,GAAGA,EAAMzB,CAAK,CAAC,CAAC,EACpC+C,EAAAtB,GAAQA,EAAO,CAAC,CAChC,EAEM0B,EAAoBrD,GACjBA,EAAK,UAAYkD,EAAgB,IAAIlD,EAAK,SAAS,EAAI,GAG1DsD,EAAgBpD,GACb,KAAK,IAAIA,EAAQ8C,CAAU,GAAK,GAAKF,EAAc,IAAI5C,EAAQ,CAAC,GAAKA,EAAQ,EAItF,GAAI2C,IAAY,CAAC7C,GAAQA,EAAK,SAAW,GAErC,OAAAkC,MAAC,OAAI,UAAU,uDACZ,UAAC,GAAG,MAAM,CAAC,CAAC,EAAE,IAAI,CAACqB,EAAGrD,IACpBgC,MAAA,MAAA,CAAgB,UAAU,eACzB,SAAAC,EAAA,KAAC,MAAI,CAAA,UAAU,8DAEb,SAAA,CAACD,EAAAA,IAAA,MAAA,CAAI,UAAU,0CAA2C,CAAA,EAG1DC,EAAAA,KAAC,MAAI,CAAA,UAAU,gBAEb,SAAA,CAACD,EAAAA,IAAA,MAAA,CAAI,UAAU,6CAA8C,CAAA,EAG7DC,EAAAA,KAAC,MAAI,CAAA,UAAU,8BACb,SAAA,CAACD,EAAAA,IAAA,MAAA,CAAI,UAAU,4CAA6C,CAAA,EAC5DA,EAAAA,IAAC,MAAI,CAAA,UAAU,4CAA6C,CAAA,CAAA,EAC9D,EAGAC,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACD,EAAAA,IAAA,MAAA,CAAI,UAAU,8CAA+C,CAAA,EAC9DA,EAAAA,IAAC,MAAI,CAAA,UAAU,6CAA8C,CAAA,EAC7DA,EAAAA,IAAC,MAAI,CAAA,UAAU,6CAA8C,CAAA,CAAA,CAC/D,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CAAA,EAvBQhC,CAwBV,CACD,EACH,EAIJ,GAAIyC,EAEA,OAAAT,EAAA,IAAC,OAAI,UAAU,mBACb,eAAC,IAAE,CAAA,UAAU,eAAgB,SAAAS,CAAA,CAAM,CACrC,CAAA,EAIJ,GAAI,CAAC3C,GAAQA,EAAK,SAAW,EAEzB,OAAAkC,EAAA,IAAC,OAAI,UAAU,mBACb,eAAC,IAAE,CAAA,UAAU,gBAAgB,SAAA,2BAAA,CAAyB,CACxD,CAAA,EAKE,MAAAsB,EAAa,CAAC,GAAGxD,CAAI,EACxB,KAAK,CAACyD,EAAGC,IAAM,IAAI,KAAKA,EAAE,YAAY,EAAE,UAAY,IAAI,KAAKD,EAAE,YAAY,EAAE,QAAA,CAAS,EACtF,MAAM,EAAG,EAAE,EAEd,OACGvB,EAAAA,IAAA,MAAA,CAAI,UAAU,uDACZ,SAAWsB,EAAA,IAAI,CAAClB,EAAgBpC,IAC/BgC,EAAAA,IAAC,MAAkB,CAAA,UAAU,eAC3B,SAAAA,EAAA,IAACnC,EAAA,CACC,KAAMuC,EACN,cAAee,EAAiBf,CAAI,EACpC,MAAApC,EACA,cAAekD,EACf,QAASE,EAAapD,CAAK,CAAA,CANrB,CAAA,EAAAoC,EAAK,EAQf,CACD,EACH,CAEJ,CC5HA,SAAwBqB,GAAO,CACvB,KAAA,CAAE,KAAM3D,EAAO,CAAA,EAAI,UAAA4D,EAAW,MAAAjB,GAAUQ,EAAqB,CACjE,SAAU,CAAC,MAAM,EACjB,QAAS,SAAY,CACnB,KAAM,CAAE,KAAAU,EAAM,MAAAlB,CAAM,EAAI,MAAMmB,EAAQ,EACtC,GAAInB,EAAO,MAAM,IAAI,MAAM,qBAAqB,EACzC,OAAAkB,CACT,EACA,UAAW,IACX,OAAQ,KACR,qBAAsB,GACtB,MAAO,CAAA,CACR,EAGKE,EAAU/D,EAAK,iBAAe,QAAAgE,EAAA1B,EAAK,SAAL,YAAA0B,EAAa,QAAS,MAAK,EACzDC,EAAetB,aAAiB,MAAQA,EAAM,QAAU,KAG5D,OAAAR,EAAA,KAAC,MAAI,CAAA,UAAU,sCAEb,SAAA,CAAAD,EAAAA,IAAC,WAAQ,UAAU,sBACjB,SAACA,MAAA,MAAA,CAAI,UAAU,oBACb,SAAAC,EAAA,KAAC+B,EAAO,IAAP,CACC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAC7B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,WAAY,CAAE,SAAU,EAAI,EAC5B,UAAU,cAEV,SAAA,CAAChC,EAAA,IAAA,KAAA,CAAG,UAAU,mEAAmE,SAEjF,cAAA,EACAA,EAAA,IAACgC,EAAO,EAAP,CACC,UAAU,uEACV,QAAS,CAAE,QAAS,CAAE,EACtB,QAAS,CAAE,QAAS,CAAE,EACtB,WAAY,CAAE,SAAU,GAAK,MAAO,EAAI,EACzC,SAAA,2FAAA,CAAA,CAED,CAAA,GAEJ,CACF,CAAA,EAGAhC,EAAA,IAAC,UAAQ,CAAA,UAAU,mCACjB,SAAAA,EAAA,IAAC,MAAI,CAAA,UAAU,+BAsBb,SAAAC,OAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,oCACb,SAAA,CAACD,EAAA,IAAA,KAAA,CAAG,UAAU,sCAAsC,SAAiC,oCAAA,EACpFA,MAAAiC,EAAA,CAAK,GAAG,mBACP,eAACC,EAAK,CAAA,UAAU,qDACd,SAAAlC,EAAA,IAACmC,GAAY,UAAU,YACrB,SAAClC,OAAA,MAAA,CAAI,UAAU,oEAAoE,SAAA,CAAA,WAEjFD,EAAAA,IAACoC,EAAW,CAAA,UAAU,SAAU,CAAA,CAAA,EAClC,CAAA,CACF,EACF,CACF,CAAA,CAAA,EACF,QACC1B,EAAQ,CAAA,KAAMmB,EAAS,QAASH,EAAW,MAAOK,CAAc,CAAA,CAAA,CACnE,CAAA,CACF,CAAA,CACF,CAAA,CAAA,EACF,CAEJ"}