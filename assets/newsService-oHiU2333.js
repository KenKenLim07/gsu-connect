import{a as t}from"./vendor-BMJYCA8e.js";import{j as s}from"./ui-L36-SHUh.js";import{c as o}from"./index-BuRjEbhT.js";import{c as d}from"./index-BAYP90Ju.js";function l({title:r,titleId:e,...a},c){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":e},a),r?t.createElement("title",{id:e},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const _=t.forwardRef(l),u=t.forwardRef(({className:r,...e},a)=>s.jsx("div",{ref:a,className:o("rounded-lg border bg-card text-card-foreground shadow-sm",r),...e}));u.displayName="Card";const m=t.forwardRef(({className:r,...e},a)=>s.jsx("div",{ref:a,className:o("flex flex-col space-y-1.5 p-6",r),...e}));m.displayName="CardHeader";const p=t.forwardRef(({className:r,...e},a)=>s.jsx("h3",{ref:a,className:o("text-2xl font-semibold leading-none tracking-tight",r),...e}));p.displayName="CardTitle";const f=t.forwardRef(({className:r,...e},a)=>s.jsx("p",{ref:a,className:o("text-sm text-muted-foreground",r),...e}));f.displayName="CardDescription";const w=t.forwardRef(({className:r,...e},a)=>s.jsx("div",{ref:a,className:o("p-6 pt-0",r),...e}));w.displayName="CardContent";const g=t.forwardRef(({className:r,...e},a)=>s.jsx("div",{ref:a,className:o("flex items-center p-6 pt-0",r),...e}));g.displayName="CardFooter";const h="https://fkyokvjruvgsritmazey.supabase.co",x="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZreW9rdmpydXZnc3JpdG1hemV5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTMwNTc1MywiZXhwIjoyMDY0ODgxNzUzfQ.2s8Wpf_IjYG5OKL0w7BsPe6k5NIm2kYO6IH0MY8uLgE",i=d(h,x,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}});function y(r){const e=r;return{id:e.id,title:e.title,content:e.content,published_at:e.published_at,source_url:e.source_url,campus_id:e.campus_id,created_at:e.created_at,image_url:e.image_url||void 0,campus:e.campus?{id:e.campus.id,name:e.campus.name,location:e.campus.location,created_at:e.campus.created_at}:void 0}}let n=null;async function j(){try{return n||(console.log("Fetching news from Supabase..."),console.log("Supabase URL:","https://fkyokvjruvgsritmazey.supabase.co"),n=(async()=>{try{const{error:r}=await i.from("news").select("id").limit(1);if(r)return console.error("Supabase connection test failed:",r),{data:[],error:r,count:0};console.log("Supabase connection successful, fetching full news data...");const{data:e,error:a,count:c}=await i.from("news").select(`
        *,
        campus:campus_id (
          id,
              name
        )
          `,{count:"exact"}).order("created_at",{ascending:!1});return a?(console.error("Error fetching news:",a),{data:[],error:a,count:0}):{data:e.map(y),error:null,count:c||0}}finally{n=null}})(),n)}catch(r){return console.error("Unexpected error in getNews:",r),{data:[],error:r,count:0}}}export{u as C,_ as F,w as a,m as b,j as g};
//# sourceMappingURL=newsService-oHiU2333.js.map
