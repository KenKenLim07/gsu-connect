import{j as t,c as s}from"./index-Bm4s_nmn.js";import{b as o}from"./vendor-C5fPr8gG.js";import{c as d}from"./index-DUs7ge4w.js";const l=o.forwardRef(({className:a,...e},r)=>t.jsx("div",{ref:r,className:s("rounded-lg border bg-card text-card-foreground shadow-sm",a),...e}));l.displayName="Card";const u=o.forwardRef(({className:a,...e},r)=>t.jsx("div",{ref:r,className:s("flex flex-col space-y-1.5 p-6",a),...e}));u.displayName="CardHeader";const m=o.forwardRef(({className:a,...e},r)=>t.jsx("h3",{ref:r,className:s("text-2xl font-semibold leading-none tracking-tight",a),...e}));m.displayName="CardTitle";const p=o.forwardRef(({className:a,...e},r)=>t.jsx("p",{ref:r,className:s("text-sm text-muted-foreground",a),...e}));p.displayName="CardDescription";const f=o.forwardRef(({className:a,...e},r)=>t.jsx("div",{ref:r,className:s("p-6 pt-0",a),...e}));f.displayName="CardContent";const g=o.forwardRef(({className:a,...e},r)=>t.jsx("div",{ref:r,className:s("flex items-center p-6 pt-0",a),...e}));g.displayName="CardFooter";const w="https://fkyokvjruvgsritmazey.supabase.co",I="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZreW9rdmpydXZnc3JpdG1hemV5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTMwNTc1MywiZXhwIjoyMDY0ODgxNzUzfQ.2s8Wpf_IjYG5OKL0w7BsPe6k5NIm2kYO6IH0MY8uLgE",c=d(w,I,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}});function y(a){const e=a;return{id:e.id,title:e.title,content:e.content,published_at:e.published_at,source_url:e.source_url,campus_id:e.campus_id,created_at:e.created_at,image_url:e.image_url||void 0,campus:e.campus?{id:e.campus.id,name:e.campus.name,location:e.campus.location,created_at:e.campus.created_at}:void 0}}let n=null;async function C(){try{return n||(console.log("Fetching news from Supabase..."),console.log("Supabase URL:","https://fkyokvjruvgsritmazey.supabase.co"),n=(async()=>{try{const{error:a}=await c.from("news").select("id").limit(1);if(a)return console.error("Supabase connection test failed:",a),{data:[],error:a,count:0};console.log("Supabase connection successful, fetching full news data...");const{data:e,error:r,count:i}=await c.from("news").select(`
        *,
        campus:campus_id (
          id,
              name
        )
          `,{count:"exact"}).order("created_at",{ascending:!1});return r?(console.error("Error fetching news:",r),{data:[],error:r,count:0}):{data:e.map(y),error:null,count:i||0}}finally{n=null}})(),n)}catch(a){return console.error("Unexpected error in getNews:",a),{data:[],error:a,count:0}}}export{l as C,f as a,u as b,C as g};
