import{a as n}from"./vendor-BMJYCA8e.js";import{c}from"./index-BAYP90Ju.js";function i({title:t,titleId:e,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},r),t?n.createElement("title",{id:e},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const f=n.forwardRef(i),u="https://fkyokvjruvgsritmazey.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZreW9rdmpydXZnc3JpdG1hemV5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTMwNTc1MywiZXhwIjoyMDY0ODgxNzUzfQ.2s8Wpf_IjYG5OKL0w7BsPe6k5NIm2kYO6IH0MY8uLgE",s=c(u,l,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}});function d(t){const e=t;return{id:e.id,title:e.title,content:e.content,published_at:e.published_at,source_url:e.source_url,campus_id:e.campus_id,created_at:e.created_at,image_url:e.image_url||void 0,campus:e.campus?{id:e.campus.id,name:e.campus.name,location:e.campus.location,created_at:e.campus.created_at}:void 0}}let a=null;async function w(){try{return a||(console.log("Fetching news from Supabase..."),console.log("Supabase URL:","https://fkyokvjruvgsritmazey.supabase.co"),a=(async()=>{try{const{error:t}=await s.from("news").select("id").limit(1);if(t)return console.error("Supabase connection test failed:",t),{data:[],error:t,count:0};console.log("Supabase connection successful, fetching full news data...");const{data:e,error:r,count:o}=await s.from("news").select(`
        *,
        campus:campus_id (
          id,
              name
        )
          `,{count:"exact"}).order("created_at",{ascending:!1});return r?(console.error("Error fetching news:",r),{data:[],error:r,count:0}):{data:e.map(d),error:null,count:o||0}}finally{a=null}})(),a)}catch(t){return console.error("Unexpected error in getNews:",t),{data:[],error:t,count:0}}}export{f as F,w as g};
//# sourceMappingURL=newsService-CKGVDPFB.js.map
